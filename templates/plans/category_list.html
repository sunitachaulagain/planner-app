{% extends 'base.html' %} {% block content %}
<div class="container mt-4">
  <h2>My Categories</h2>
  <a href="{% url 'add_category' %}" class="btn btn-success mb-3"
    >Add Category</a
  >

  <ul class="list-group">
    {% for category in categories %}
    <li
      class="list-group-item d-flex justify-content-between align-items-center"
    >
      <!-- Clickable category name to view plans -->
      <a href="{% url 'list_plans_by_category' category.id %}">
        {{ category.name }}
      </a>

      <!-- Edit and Delete buttons -->
      <span>
        <a
          href="{% url 'edit_category' category.pk %}"
          class="btn btn-sm btn-primary"
          >Edit</a
        >
        <form
          method="post"
          action="{% url 'delete_category' category.pk %}"
          style="display: inline"
        >
          {% csrf_token %}
          <a
            href="{% url 'delete_category' category.pk %}"
            class="btn btn-sm btn-danger"
            >Delete</a
          >
        </form>
      </span>
    </li>
    {% empty %}
    <li class="list-group-item">No categories yet.</li>
    {% endfor %}
  </ul>
</div>
{% endblock %}
